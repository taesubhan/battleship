(()=>{"use strict";var e={159:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(601),a=n.n(r),o=n(314),i=n.n(o),c=n(417),l=n.n(c),s=new URL(n(691),n.b),u=i()(a()),d=l()(s);u.push([e.id,`:root {\n    font-family: sans-serif, Arial, 'Times New Roman';\n    --page-header-size: 40px;\n    --input-font-size: 25px;\n    --button-font-size: 20px;\n    --button-border-radius: 10px;\n    --button-background-color: oklch(0.928 0.006 264.531);\n\n    --game-message-font-size: 20px;\n\n    --board-title-font-size: 16px;\n\n    --board-length: 450px;\n    --board-number-of-cells: 10;\n    --cell-length: calc(var(--board-length) / var(--board-number-of-cells));\n    --piece-1-len: 5;\n    --piece-2-len: 4;\n    --piece-3-len: 3;\n    --piece-4-len: 3;\n    --piece-5-len: 2;\n    --piece-1-vertical-calc: calc((var(--cell-length) * var(--piece-1-len) / 2) - (var(--cell-length) / 2));\n    --piece-2-vertical-calc: calc((var(--cell-length) * var(--piece-2-len) / 2) - (var(--cell-length) / 2));\n    --piece-3-vertical-calc: calc((var(--cell-length) * var(--piece-3-len) / 2) - (var(--cell-length) / 2));\n    --piece-4-vertical-calc: calc((var(--cell-length) * var(--piece-4-len) / 2) - (var(--cell-length) / 2));\n    --piece-5-vertical-calc: calc((var(--cell-length) * var(--piece-5-len) / 2) - (var(--cell-length) / 2));\n\n    \n}\n\nhtml {\n    box-sizing: border-box;\n    height: 100%;\n}\n*,\n*::before,\n*::after {\n    box-sizing: inherit;\n}\n\nbody {\n    height: 100%;\n    margin: 0px;\n}\n\n/* Text */\n\n\n.player-name-label,\n.game-message {\n    color: white;\n    font-weight: bold;\n}\n\n.message-container {\n    background-color: rgba(0,0,0,.4);\n    padding: 10px;\n    border-radius: 10px;\n}\n\n.input-name-container {\n    background-color: rgba(0,0,0,.4);\n    padding: 30px;\n    border-radius: 10px;\n}\n\n.board-title {\n    color: white;\n    font-weight: bold;\n    background-color: rgba(0,0,0,.4);\n    padding: 00px;\n    border-radius: 0px;\n    text-align: center;\n}\n\n\n\n/* Container */\n#container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    \n}\n\n.background-image {\n    background-image: url(${d});\n    background-size: cover;\n    background-attachment: fixed;\n}\n\n.body {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    gap: 5px;\n}\n\n/* Header */\n\n.title-header {\n    /* font-size: var(--page-header-size);\n    margin: 15px; */\n    width: 450px;\n}\n\n/* Buttons */\n\n.game-button {\n    background-color: var(--button-background-color);\n    border-radius: var(--button-border-radius);\n    font-size: var(--button-font-size);\n    padding: 5px;\n}\n\n.game-vs-button {\n    font-size: 25px;\n    font-weight: bold;\n    width: 220px;\n    height: 75px;\n    /* margin: 80px 0px; */\n}\n\n.settings-button {\n    display: flex;\n    justify-content: center;\n    gap: 30px;\n    /* margin: 20px; */\n}\n\n.board-set-up-button {\n    width: 110px;\n    font-size: 15px;\n}\n\n.play-again-button {\n    width: 120px;\n}\n\n\n/* Game setup screen */\n.set-up-input {\n    /* height: 50px; */\n    min-height: 37px;\n    display: flex;\n    justify-content: center;\n    margin: 0px;\n}\n\n.ships-position {\n    width: 900px;\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    justify-items: center;\n}\n\n\n\n.submit-name {\n    font-size: var(--button-font-size);\n    padding: 10px;\n    border-radius: var(--button-border-radius);\n}\n\n\n\n.game-set-up-form {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    justify-content: center;\n}\n\n/* Board set-up */\n\n\n/* Player Name */\n.player-name-label {\n    font-size: var(--input-font-size);\n}\n\n.player-name-input {\n    height: calc(var(--input-font-size) * 1.6);\n    border-radius: 5px;\n    padding: 5px;\n    font-size: var(--input-font-size);\n}\n\n\n\n/* Message box */ \n.text-output {\n    height: 50px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n.error-message {\n    color: red;\n}\n\n.text-from-game {\n    margin: 2px;\n    font-size: var(--game-message-font-size);\n    text-align: center;\n}\n\n/* .center-settings {\n\n} */\n\n/* Game board */\n\n.board-title {\n    font-size: var(--board-title-font-size);\n    font-weight: bold;\n    text-align: center;\n    margin-top: 0px;\n}\n\n.board-and-pieces {\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    position: relative;\n}\n\n\n.all-game-board-container {\n    display: flex;\n    justify-content: center;\n    margin: 0px 0px;\n    \n}\n\n.all-game-board-container.contains-player-board.contains-opponent-board {\n    gap: 50px;\n}\n\n.game-board {\n    margin: 0px;\n    margin-right: 00px;\n    padding: 0px;\n    width: var(--board-length);\n    height: var(--board-length);\n    display: grid;\n    grid-template-columns: repeat(var(--board-number-of-cells), 1fr);\n    grid-template-rows: repeat(var(--board-number-of-cells), 1fr);\n    background-color: oklch(0.715 0.143 215.221);\n}\n\n.board-cell {\n    list-style-type: none;\n    outline: 1px black solid;\n    position: relative;\n}\n\n.ship-in-cell {\n    background-color: rgb(133, 133, 255);\n}\n\n.ship-hit {\n    /* background-color: red; */\n}\n\n.dot-target-marker {\n    width: var(--cell-length);\n    height: var(--cell-length);\n    /* width: 50px; */\n    position: absolute;\n    z-index: 3;\n\n}\n\n.hit-marker { \n    filter: invert(17%) sepia(86%) saturate(5975%) hue-rotate(356deg) brightness(91%) contrast(130%);\n}\n\n.miss-marker {\n    filter: invert(89%) sepia(92%) saturate(6654%) hue-rotate(309deg) brightness(107%) contrast(97%);\n}\n\n.hit-with-no-ship {\n    /* background-color: rgb(251, 202, 111); */\n}\n\n.hovered-valid {\n    background-color: blue;\n}\n\n.hovered-invalid {\n    background-color: red;\n}\n\n/* Game board pieces */\n.game-pieces-container {\n    width: calc(var(--cell-length) * 5 + 2%);\n    height: calc(var(--cell-length) * 5 + 2%);\n    position: absolute;\n    left: calc(50% + var(--board-length)/2 + 3%);\n\n    background-color: rgba(255, 255, 255, 0.4);\n    /* padding: 10px; */\n    border-radius: 10px;\n    /* right: 0px - calc(0px - calc(var(--cell-length) * 5)); */\n    /* margin-left: 20px; */\n}\n\n.game-piece {\n    width: var(--cell-length);\n    height: var(--cell-length);\n    position: relative;\n    \n}\n\n.game-piece-img {\n    height: 100%;\n    position: absolute;\n    mix-blend-mode: multiply;\n\n}\n\n\n\n#piece-1 {\n    width: calc(var(--piece-1-len) * 100%);\n}\n\n#piece-2 {\n    width: calc(var(--piece-2-len) * 100%);\n}\n\n#piece-3 {\n    width: calc(var(--piece-3-len) * 100%);\n}\n\n#piece-4 {\n    width: calc(var(--piece-4-len) * 100%);\n}\n\n#piece-5 {\n    width: calc(var(--piece-5-len) * 100%);\n}\n\n[orientation="horizontal"] {\n\n}\n\n#piece-1[orientation="vertical"] {\n    transform: rotate(90deg) translate(var(--piece-1-vertical-calc), var(--piece-1-vertical-calc));\n}\n\n#piece-2[orientation="vertical"] {\n    transform: rotate(90deg) translate(var(--piece-2-vertical-calc), var(--piece-2-vertical-calc));\n}\n\n#piece-3[orientation="vertical"] {\n    transform: rotate(90deg) translate(var(--piece-3-vertical-calc), var(--piece-3-vertical-calc));\n}\n\n#piece-4[orientation="vertical"] {\n    transform: rotate(90deg) translate(var(--piece-4-vertical-calc), var(--piece-4-vertical-calc));\n}\n\n#piece-5[orientation="vertical"] {\n    transform: rotate(90deg) translate(var(--piece-5-vertical-calc), var(--piece-5-vertical-calc));\n}\n\n\n/*Delete*/\n.player-board-updated {\n    margin: 25px 0px;\n}\n`,""]);const p=u},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],c=0;c<e.length;c++){var l=e[c],s=r.base?l[0]+r.base:l[0],u=o[s]||0,d="".concat(s," ").concat(u);o[s]=u+1;var p=n(d),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(g);else{var h=a(g,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=n(o[i]);t[c].references--}for(var l=r(e,a),s=0;s<o.length;s++){var u=n(o[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},691:(e,t,n)=>{e.exports=n.p+"images/battleship_background_1-9374c87990c5592de89c.jpg"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(72),a=n.n(r),o=n(825),i=n.n(o),c=n(659),l=n.n(c),s=n(56),u=n.n(s),d=n(540),p=n.n(d),g=n(113),h=n.n(g),m=n(159),f={};function v(){let e=null,t=!1;return{storeValue(t=null){e=t},removeValue(){e=null},getValue:()=>e,hasShip:()=>Boolean(e),hit(){t||(e&&e.hit(),t=!0)},hasBeenHit:()=>t,isHitButShipMissed(){return!this.hasShip()&&t},isShipHit(){return this.hasShip()&&t}}}function b(e,t){const n=function(e){const t=function(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=Array.from(new Array(e),(()=>v()));return t}(e),n=[];return{getSize:()=>e,showBoard(){const e=[];for(const n of t){const t=n.map((e=>e.hasShip()?"S":"E"));e.push(t)}return e},getBoard:()=>t,getAllShips:()=>n,getShipCount:()=>n.filter((e=>e)).length,getShip:e=>n[e],isCellInBounds:(t,n)=>t<e&&t>=0&&n<e&&n>=0,isShipInCell:(e,n)=>t[n][e].hasShip(),checkBoardSpace(e,t){if(!this.isCellInBounds(e,t))throw new Error("Coordinate is out of game board's boundary");if(this.isShipInCell(e,t))throw new Error(`Another ship already occupies this coordinate (${e},${t})`)},isCoordinatesInArray(e,t){for(let n of e)if(JSON.stringify(n)==JSON.stringify(t))return!0;return!1},getShipPlacement(e,t,n,r,a=[]){const o=[];for(let i=0;i<e;i++){let e=t,c=n;"vertical"===r&&(c+=i),"horizontal"===r&&(e+=i);try{this.isCoordinatesInArray(a,[e,c])||this.checkBoardSpace(e,c),o.push([e,c])}catch(e){return null}}return o},isPlacementValid:(e,t)=>Boolean(e)&&e.length==t,addShipToCells(e,n){e.forEach((([e,r])=>t[r][e].storeValue(n)))},removeShipFromCells(e){e.forEach((([e,n])=>t[n][e].removeValue()))},placeShip(e,t,r,a,o){const i=n[o],c=i?i.cells:[],l=this.getShipPlacement(e,t,r,a,c);if(i){if(!this.isPlacementValid(l,e))return null;this.removeShipFromCells(c),this.addShipToCells(l,i.ship),n[o]={length:e,orientation:a,headX:t,headY:r,ship:i.ship,cells:l}}else{if(!this.isPlacementValid(l,e))return;const i=function(e){let t=0;return{length:e,hit(){t<e&&t++},getHitCount:()=>t,isSunk:()=>t>=e}}(e);this.addShipToCells(l,i),n[o]={length:e,orientation:a,headX:t,headY:r,ship:i,cells:l}}return l},isLegalAttack(e,n){return this.isCellInBounds(e,n)&&!t[n][e].hasBeenHit()},receiveAttack(e,n){this.isLegalAttack(e,n)&&t[n][e].hit()},doesHitSinkShip(e,n){const r=t[n][e];return!!r.isShipHit()&&r.getValue().isSunk()},getShipIDFromXY(e,t){for(let r=0;r<n.length;r++){let a=n[r];if(!a)return null;for(let[n,o]of a.cells)if(e==n&&t==o)return r}return null},areAllShipsSunk(){for(const e of n)if(e&&!e.ship.isSunk())return!1;return!0}}}(t);return{getBoard:()=>n,getName:()=>e}}function y(e,t){return Math.floor(Math.random()*(t-e))+e}function x(e){let t=[],n=null;function r(r,a){e.receiveAttack(r,a),n=[r,a],function(n,r){if(e.isShipInCell(n,r)&&(t.push([n,r]),e.doesHitSinkShip(n,r))){const a=e.getShipIDFromXY(n,r);!function(e){const n=t.filter((t=>{const[n,r]=t;for(let t of e){const[e,a]=t;if(n==e&&r==a)return!1}return!0}));t=n}(e.getShip(a).cells)}}(r,a)}function a(){if(!n)return!1;const[t,r]=n;return e.isShipInCell(t,r)}function o(t,n){let r;r=0==y(0,2)?[1,-1]:[-1,1];for(let a of r)if(e.isLegalAttack(t+a,n))return[t+a,n];return null}function i(t,n){let r;r=0==y(0,2)?[1,-1]:[-1,1];for(let a of r)if(e.isLegalAttack(t,n+a))return[t,n+a];return null}function c(){const[e,n]=t[0],[a,c]=t[t.length-1];let l;Math.abs(e-a)>0?(l=o(e,n),l||(l=i(e,n))):Math.abs(n-c)>0&&(l=i(e,n),l||(l=o(e,n)));const[s,u]=l;r(s,u)}return{makeComputedAttackOnBoard(){0==t.length?function(){let t=!1;for(;!t;){let n=y(0,e.getSize()),a=y(0,e.getSize());t=e.isLegalAttack(n,a),t&&r(n,a)}}():1==t.length?function(){const[e,n]=t[0],a=function(e,t){const n=y(0,2);let r;return 0==n?r=o(e,t)||i(e,t):1==n&&(r=i(e,t)||o(e,t)),r}(e,n);if(!a)return void t.shift();const[c,l]=a;r(c,l)}():t.length>1&&a()?function(){const[a,o]=t[t.length-1],[i,l]=t[0],s=function(e,t){const[n,r]=e,[a,o]=t;return[a+n,o+r]}([a,o],function(e,t){const[n,r]=e,[a,o]=t;let i,c;return i=n>a?1:n<a?-1:0,c=r>o?1:r<o?-1:0,[i,c]}([a,o],[i,l])),[u,d]=s;if(!e.isLegalAttack(u,d))return n=null,void c();r(u,d)}():t.length>1&&!a()&&c()}}}f.styleTagTransform=h(),f.setAttributes=u(),f.insert=l().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=p(),a()(m.A,f),m.A&&m.A.locals&&m.A.locals;const S=n.p+"images/blank_transparent_img-24ac3d14e4ae393a994b.png";let C,k,L,w;const E=new Image;function A(e){const t=parseFloat(window.getComputedStyle(e.target).getPropertyValue("width")),n=parseFloat(window.getComputedStyle(e.target).getPropertyValue("height")),r=parseInt(e.target.getAttribute("length")),a=e.target.getAttribute("orientation"),o=Math.floor(e.offsetX/(t/r)),i=Math.floor(e.offsetY/(n/1));k="horizontal"==a?o:i,L="horizontal"==a?i:o,e.dataTransfer.setData("text/plain",JSON.stringify({id:e.target.id,space:r,offsetX:"horizontal"==a?o:i,offsetY:"horizontal"==a?i:o})),e.dataTransfer.setDragImage(E,0,0),e.target.style.opacity="0",C=e.target}function P(e){if(e)for(let[t,n]of e)document.querySelector(`li[x='${t}'][y='${n}']`).classList.remove("hovered-valid")}function I(e,t){if(e.preventDefault(),!C)return;const n=t.getCurrentPlayerBoard();let r;e.target.classList.contains("game-piece-img")&&e.target.id==C.id?(e.target.style.zIndex="0",r=e.target.closest(".board-cell")):r=e.target;const a=parseInt(C.getAttribute("length")),o=C.getAttribute("orientation"),i=parseInt(r.getAttribute("x"))-k,c=parseInt(r.getAttribute("y"))-L,l=parseInt(C.getAttribute("shipID")),s=n.getShip(l),u=s?s.cells:[],d=n.getShipPlacement(a,i,c,o,u);w=d,e.dataTransfer.dropEffect="move",null===d||d.length<a||function(e){for(let[t,n]of e)document.querySelector(`li[x='${t}'][y='${n}']`).classList.add("hovered-valid")}(d)}function z(e){P(w)}function q(e){e.style.zIndex="2",e.style.opacity="1"}function B(e){q(e.target)}function $(e,t){if(e.preventDefault(),!C)return;const n=JSON.parse(e.dataTransfer.getData("text/plain")),r=e.target.closest(".board-cell"),a=parseInt(r.getAttribute("x"))-n.offsetX,o=parseInt(r.getAttribute("y"))-n.offsetY,i=document.querySelector(`[x = "${a}"][y = "${o}"]`),c=document.getElementById(n.id),l=parseInt(c.getAttribute("length")),s=c.getAttribute("orientation"),u=parseInt(c.getAttribute("shipID"));!w||w.length<l?q(c):(t.placeShip(l,a,o,s,u),i.appendChild(c),P(w),C=null,k=null,L=null,w=null)}function M(e){if(e)for(;e.lastChild;)e.lastChild.remove()}E.src=S,E.style.width="";const O=JSON.parse('[{"link":"./images/icons/battleship-piece-1.png","length":5},{"link":"./images/icons/battleship-piece-2.png","length":4},{"link":"./images/icons/battleship-piece-3.png","length":3},{"link":"./images/icons/battleship-piece-4.png","length":3},{"link":"./images/icons/battleship-piece-5.png","length":2}]');function T(){const e=document.querySelector(".game-pieces-container");e&&e.remove()}function D(e,t,n,r="horizontal"){const a=new Image;return a.src=t,a.alt=`game piece ${e+1}`,a.classList.add("game-piece-img","draggable-element"),a.id=`piece-${e+1}`,a.setAttribute("orientation",r),a.setAttribute("shipID",e),a.setAttribute("length",n),a.style.zIndex=1,a}function N(e,t){const n=parseInt(e.getAttribute("length")),r=parseInt(e.getAttribute("shipid"));!function(e,t,n,r){!function(e){e.draggable=!0,e.addEventListener("dragstart",A)}(e),function(e,t,n,r){e.addEventListener("click",(a=>function(e,t,n,r){const a=r.getShip(n);if(!a)return;const o="horizontal"==a.orientation?"vertical":"horizontal",i=a.headX,c=a.headY,l=r.getShipPlacement(t,i,c,o,[[i,c]]);!l||l.length<t||(r.placeShip(t,i,c,o,n),e.setAttribute("orientation",`${o}`))}(e,t,n,r)))}(e,t,n,r)}(e,n,r,t)}n.p;const V=n.p+"images/dot-5d79211f089dde356294.svg";function j(e){const t=e.getBoard(),n=document.createElement("ul");n.classList.add("game-board");for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++){const t=document.createElement("li");t.classList.add("board-cell"),t.setAttribute("x",r),t.setAttribute("y",e),n.appendChild(t)}return n}function H(e,t,n){const r=n.headX,a=n.headY,o=n.orientation,i=t.querySelector(`li[x="${r}"][y="${a}"]`),c=O[e],l=D(e,c.link,c.length,o);i.appendChild(l)}function F(e,t){const n=t.getBoard();for(let t=0;t<n.length;t++)for(let r=0;r<n[t].length;r++){const a=n[t][r];if(!a.hasBeenHit())continue;const o=e.querySelector(`li[x="${r}"][y="${t}"]`),i=new Image;i.src=V,i.classList.add("dot-target-marker"),a.isShipHit()?(o.classList.add("ship-hit"),i.classList.add("hit-marker")):a.isHitButShipMissed()&&(o.classList.add("hit-with-no-ship"),i.classList.add("miss-marker")),o.appendChild(i)}}function R(e){const t=document.querySelector(".player-container");M(t);const n=e.getCurrentPlayerBoard(),r=j(n);!function(e,t){const n=t.getAllShips();for(let t=0;t<n.length;t++){let r=n[t];r&&H(t,e,r)}}(r,n),F(r,n),r.classList.add("player-board"),t.appendChild(r),document.querySelector(".all-game-board-container").classList.add("contains-player-board")}function Y(e){const t=document.querySelector(".player-board");if(!t)return;const n=e.getCurrentPlayerBoard();var r;!function(e,t){const n=e.querySelectorAll(".board-cell");for(let e of n)e.addEventListener("dragover",(e=>{I(e,t)})),e.addEventListener("dragleave",z),e.addEventListener("dragend",B),e.addEventListener("drop",(e=>{$(e,t)}));document.addEventListener("dragend",B)}(t,e),r=n,t.querySelectorAll(".game-piece-img").forEach((e=>N(e,r)))}function G(e){_(`${e.getCurrentPlayer().getName()}'s turn`),function(e){const t=document.querySelector(".opponent-container");M(t);const n=e.getOpponentBoard(),r=j(n);F(r,n),function(e,t){const n=t.getAllShips();for(let t=0;t<n.length;t++){let r=n[t];r&&r.ship.isSunk()&&H(t,e,r)}}(r,n),r.classList.add("opponent-board"),t.appendChild(r),document.querySelector(".all-game-board-container").classList.add("contains-opponent-board")}(e),R(e),function(){const e=document.querySelector(".opponent-container"),t=document.createElement("p");t.classList.add("opponent-board-title","board-title"),t.textContent="Opponent's board",e.prepend(t);const n=document.querySelector(".player-container"),r=document.createElement("p");r.classList.add("player-board-title","board-title"),r.textContent="Your board",n.prepend(r)}()}function X(){const e=document.querySelector(".text-output");e.firstChild||e.appendChild(function(){const e=document.createElement("div");e.classList.add("message-container");const t=document.createElement("div"),n=document.createElement("div");return t.classList.add("game-message"),n.classList.add("error-message"),e.appendChild(t),e.appendChild(n),e}())}function _(...e){M(document.querySelector(".game-message")),X();const t=document.querySelector(".game-message");for(const n of e){const e=document.createElement("p");e.classList.add("game-message-line","text-from-game"),e.textContent=n,t.appendChild(e)}}function J(){M(document.querySelector(".error-message"))}function U(){M(document.querySelector(".text-output"))}function Q(){const e=document.querySelector(".opponent-container"),t=document.querySelector(".player-container");M(e),M(t),document.querySelector(".all-game-board-container").classList.remove("contains-opponent-board","contains-player-board")}function K(e){const t=document.querySelector(".opponent-board");t&&ee(t,e,te)}function W(e){const t=document.querySelector(".opponent-board");t&&ee(t,e,ne)}function Z(e){!function(e){_(`${e.getCurrentPlayer().getName()} wins!`)}(e),function(){const e=pe(),t=document.createElement("div");t.classList.add("settings-button");const n=function(){const e=document.createElement("button");return e.classList.add("play-again-button","game-button"),e.textContent="Play Again",function(e){e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".game-set-up-form").reportValidity()&&(U(),Q(),se())}))}(e),e}();t.appendChild(n),e.appendChild(t),de(e)}()}function ee(e,t,n){const r=e.querySelectorAll(".board-cell");for(let e of r){const r=parseInt(e.getAttribute("x")),a=parseInt(e.getAttribute("y"));e.addEventListener("click",(()=>{t.isLegalMove(r,a)&&n(t,r,a)}))}}function te(e,t,n){ae(e,t,n),e.isGameOver()||function(e){e.switchPlayer(),function(e){if(e.compMakeMove(),e.isGameOver())return e.switchPlayer(),G(e),e.switchPlayer(),void Z(e);e.switchPlayer(),G(e),K(e)}(e)}(e)}function ne(e,t,n){ae(e,t,n),e.isGameOver()||function(e,t){const n=document.createElement("button");n.classList.add("turn-complete","game-button"),n.textContent="Next player",n.addEventListener("click",(r=>{!function(e,t){const n=e.getCurrentOpponent().getName(),r=e.getCurrentPlayer().getName();Q(),_(`${r}, please hand the computer over to ${n}`,`${n}, click on the "Ready" button to start your turn`);const a=document.createElement("button");a.classList.add("ready-for-next-player","game-button"),a.textContent="Ready",a.addEventListener("click",(n=>{t(e),a.remove()})),document.querySelector(".set-up-input").appendChild(a)}(e,t),n.remove()})),document.querySelector(".set-up-input").appendChild(n)}(e,re)}function re(e){e.switchPlayer(),G(e),W(e)}function ae(e,t,n){e.makeMove(t,n),e.getIDOfSunkenShipFromCoor(t,n),G(e),e.isGameOver()&&Z(e)}const oe=n.p+"images/battleship-title-27f23463cf687e1ae47c.png";let ie,ce;const le=O.map((e=>e.length));function se(){de(function(){const e=pe(),t=document.createElement("div");t.classList.add("settings-button");const n=function(){const e=document.createElement("button");return e.classList.add("start-vs-computer-game","game-vs-button","game-button"),e.textContent="Vs. Computer",e.addEventListener("click",(e=>{e.preventDefault(),function(){ce="Computer";const e=document.createElement("div");e.classList.add("input-name-container"),e.appendChild(function(){const e=pe(),t=he(1),n=document.createElement("div");n.classList.add("settings-button");const r=ge();return n.appendChild(r),e.appendChild(t),e.appendChild(n),e}()),de(e)}()})),e}(),r=function(){const e=document.createElement("button");return e.classList.add("start-vs-player-game","game-vs-button","game-button"),e.textContent="Vs. Player",e.addEventListener("click",(e=>{e.preventDefault(),function(){ce="Player";const e=document.createElement("div");e.classList.add("input-name-container"),e.appendChild(function(){const e=pe(),t=he(1),n=he(2),r=document.createElement("div");r.classList.add("settings-button");const a=ge();return r.appendChild(a),e.appendChild(t),e.appendChild(n),e.appendChild(r),e}()),de(e)}()})),e}();return t.appendChild(n),t.appendChild(r),e.appendChild(t),e}())}function ue(){U(),_(`${ie.getCurrentPlayer().getName()}, drag and drop all your ships on the board and click "Start Game"`),R(ie),function(e){T();const t=document.querySelector(".board-and-pieces"),n=function(e){const t=document.createElement("div");t.classList.add("game-pieces-container");for(let n=0;n<O.length;n++){const r=O[n],a=document.createElement("div");a.classList.add("game-piece");const o=D(n,r.link,r.length,"horizontal");N(o,e),a.appendChild(o),t.appendChild(a)}return t}(e);t.appendChild(n)}(ie.getCurrentPlayerBoard()),Y(ie)}function de(e){const t=document.querySelector(".set-up-input");M(t),t.appendChild(e)}function pe(){const e=document.createElement("form");return e.action="",e.classList.add("game-set-up-form"),e}function ge(){const e=document.createElement("button");return e.classList.add("submit-name","game-button"),e.textContent="Ready",e.addEventListener("click",(e=>{document.querySelector(".game-set-up-form").reportValidity()&&(e.preventDefault(),ie=function(e){const t=document.querySelector("#player1-name"),n=document.querySelector("#player2-name");let r,a;return"Computer"==e?(r=""===t.value?"Player 1":t.value,a="Computer"):(e="Player")&&(r=""===t.value?"Player 1":t.value,a=""===n.value?"Player 2":n.value),function(e="Player 1",t="Player 2",n=10){let r,a,o,i,c,l,s;function u(){r=b(e,n),a=b(t,n),o=r,c=o.getBoard(),i=a,l=a.getBoard(),s=x(c)}function d(e,t,n,r,a){return c.placeShip(e,t,n,r,a)}return u(),{getPlayers:function(){return[r,a]},getPlayer1Board:function(){return r.getBoard()},getPlayer2Board:function(){return a.getBoard()},getCurrentPlayer:function(){return o},getCurrentOpponent:function(){return i},getCurrentPlayerBoard:function(){return c},getOpponentBoard:function(){return l},switchPlayer:function(){l=c,i=o,o=o==r?a:r,c=o.getBoard()},isGameOver:function(){return l.areAllShipsSunk()},placeShip:d,placeShipsRandomly:function(...e){e.forEach((e=>{if(e<0||e>=n)throw new Error("One or more of the inputted length(s) are not within the game board dimensions")}));for(let t=0;t<e.length;t++){let r=e[t],a=!1;for(;!a;)d(r,y(0,n),y(0,n),0===y(0,2)?"horizontal":"vertical",t)&&(a=!0)}},isLegalMove:function(e,t){return l.isLegalAttack(e,t)},makeMove:function(e,t){l.receiveAttack(e,t)},getIDOfSunkenShipFromCoor:function(e,t){return l.doesHitSinkShip(e,t)?l.getShipIDFromXY(e,t):null},compMakeMove:function(){s.makeComputedAttackOnBoard()},reset:function(){u()}}}(r,a)}(ce),ue(),function(){const e=pe(),t=document.createElement("div");t.classList.add("settings-button");const n=function(){const e=document.createElement("button");return e.classList.add("randomize-ships-button","board-set-up-button","game-button"),e.textContent="Randomize",e.addEventListener("click",(e=>{document.querySelector(".game-set-up-form").reportValidity()&&(e.preventDefault(),ie.placeShipsRandomly(...le),R(ie),Y(ie),function(){const e=document.querySelector(".game-pieces-container");e&&M(e)}(),J())})),e}(),r=function(){const e=document.createElement("button");return e.classList.add("start-game-button","board-set-up-button","game-button"),e.textContent="Start Game",function(e){e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".game-set-up-form").reportValidity()&&(ie.getCurrentPlayerBoard().getShipCount()<O.length?function(...e){J(),X();const t=document.querySelector(".error-message");for(const n of e){const e=document.createElement("p");e.classList.add("error-message-line","text-from-game"),e.textContent=n,t.appendChild(e)}}("Place all ships on board before starting game!"):"Computer"==ce?(ie.switchPlayer(),ie.placeShipsRandomly(...le),ie.switchPlayer(),me()):"Player"==ce&&(ie.switchPlayer(),ie.getCurrentPlayer()==ie.getPlayers()[1]?ue():ie.getCurrentPlayer()==ie.getPlayers()[0]&&me()))}))}(e),e}();t.appendChild(n),t.appendChild(r),e.appendChild(t),de(e)}())})),e}function he(e){if("number"!=typeof e)return;const t=document.createElement("div");t.classList.add(`player${e}-name-input`);const n=document.createElement("label");n.classList.add("player-name-label"),n.htmlFor=`player${e}-name`,n.textContent=`Player ${e} name: `;const r=document.createElement("input");return r.classList.add("player-name-input"),r.type="text",r.id=`player${e}-name`,t.appendChild(n),t.appendChild(r),t}function me(){U(),document.querySelector(".game-set-up-form").remove(),T(),G(ie),"Computer"==ce?K(ie):"Player"==ce&&W(ie)}!function(){const e=document.querySelector(".header"),t=document.createElement("img");t.classList.add("title-header"),t.alt="Battleship Title",t.src=oe,e.appendChild(t)}(),se()})();